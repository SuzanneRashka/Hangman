<!DOCTYPE html>
<html>
<head>
    <title>Hangman!</title>
</head>
<body>
    <h1>Hangman!</h1>

    <script>
    // Create an array of words
    var words = [
      "javascript",
      "monkey",
      "amazing",
      "pancake"
    ];
    var answerArray = [];

//************ functions ****************

    pickWord = function(){
      //Return a random word
      return words[Math.floor(Math.random() * words.length)];
    };

    setupAnswerArray = function(word){
      //Return the answer array
      for (var i = 0; i < word.length; i++){
        answerArray[i] = "_";
      }
      return answerArray;
    };

    showPlayerProgress = function(answerArray){
      //Use alert to show the player their progress
      alert(answerArray.join(" "));
    };

    getGuess = function(){
      //Use prompt to get a guess
      return prompt("Guess a letter, or click Cancel to stop playing.")
    };

    updateGameState = function (guess, word, answerArray){
      //Update answerArray and return a *number* showing how many
        //times the guess appears in the word so remainingLetters 
        //can be updated. 
        var count = 0;
        for(var j = 0; j < word.length; j++){
          if (word[j] === guess){
            count++;
            answerArray[j] = guess;
            //remainingLetters--;
          } 
        }
        return count;
    };

    showAnswerAndCongratulatePlayer = function(answerArray){
      //Use alert to show the answer and congratulate the player
        if (remainingLetters === 0){
          //alert(answerArray.join(" "));
          alert("Good job! The answer was " + word);
          }
        };

    var word = pickWord();
    var answerArray = setupAnswerArray(word);
    var remainingLetters = word.length;

    while(remainingLetters > 0){
      showPlayerProgress(answerArray);
      var guess = getGuess();
      if(guess === null){
        alert("Thanks for playing!");
        break;
      } else if (guess.length !== 1){
        alert("Please enter a single letter.");
      } else {
        var correctGuesses = updateGameState(guess, word, answerArray);
        remainingLetters -= correctGuesses;
      }
    }

    showAnswerAndCongratulatePlayer(answerArray);

    </script>
</body>
</html>